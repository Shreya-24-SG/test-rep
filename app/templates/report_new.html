<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; font-size: 12px; }
        h2 { color: #2c3e50; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid #333; padding: 6px; text-align: left; }
        th { background: #f2f2f2; }
    </style>
</head>
<body>
    <h2>Preterm Birth Risk Report</h2>
    <p><strong>Patient Name:</strong> {{ patient["Patient_Name"] }}</p>
    <p><strong>Age:</strong> {{ patient["Age"] }}</p>
    <p><strong>Weight:</strong> {{ patient["Weight"] }}</p>
    <p><strong>Date:</strong> {{ patient["Date"] }}</p>
    <p><strong>Prediction:</strong> {{ pred }} (Probability: {{ prob | round(2) }})</p>
    <p><strong>Generated On:</strong> {{ timestamp }}</p>

    <h3>Health Features vs Ideal Ranges</h3>
    <table>
        <tr>
            <th>Feature</th>
            <th>Patient Value</th>
            <th>Ideal Range</th>
        </tr>
        {% for row in feature_table %}
        <tr>
            <td>{{ row.name }}</td>
            <td>{{ row.value }}</td>
            <td>{{ row.ideal }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
